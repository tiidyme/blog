<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="priv.blog.personal.mapper.UserMapper">
    <insert id="register" parameterType="Users">
        INSERT into users(user_name, user_password, user_email, user_age, user_telephone_number, user_nickname)
        values (#{user_name}, #{user_password}, #{user_email}, #{user_age}, #{user_telephone_number},
                #{user_nickname})
    </insert>
    <select id="login" parameterType="String" resultType="priv.blog.personal.entity.Users">
        select *
        from users
        where user_name = '${username}'
          and user_password = '${password}'
    </select>
    <select id="searchUserByNickName" parameterType="String" resultType="Users">
        select *
        from users
        where user_nickname=#{user_nickname}
    </select>
    <select id="searchUserById" parameterType="Integer" resultType="Users">
        select *
        from users
        where user_id=#{user_id}
    </select>
    <!--    <select id="get_user" parameterType="int" resultType="users">-->
    <!--        select *-->
    <!--        from users-->
    <!--        where user_id = #{id}-->
    <!--    </select>-->

    <!--    <select id="get_user_byname" parameterType="String" resultType="Users">-->
    <!--        select *-->
    <!--        from users-->
    <!--        where user_name = '${value}'-->
    <!--    </select>-->

    <!--    <insert id="add_user" parameterType="users">-->
    <!--        INSERT into users(user_ip, user_name, user_password, user_email, user_age, user_telephone_number, user_nickname)-->
    <!--        values (#{user_ip}, #{user_name}, #{user_password}, #{user_email}, #{user_age}, #{user_telephone_number},-->
    <!--                #{user_nickname})-->
    <!--    </insert>-->

    <!--    <delete id="del_user" parameterType="int">-->
    <!--        delete-->
    <!--        from users-->
    <!--        where user_id = #{id}-->
    <!--    </delete>-->

    <!--    <update id="update_user" parameterType="users">-->
    <!--        update users-->
    <!--        set user_name= #{userName},-->
    <!--            user_password= #{password}-->
    <!--        where user_id = #{id}-->
    <!--    </update>-->

    <!--    <select id="select_all" resultType="users">-->
    <!--        select *-->
    <!--        from users-->
    <!--    </select>-->

    <!--    <select id="login" resultType="users"-->
    <!--            parameterType="users">-->
    <!--        select *-->
    <!--        from users-->
    <!--        where user_name = #{userName}-->
    <!--          and user_password = #{password}-->
    <!--    </select>-->

    <!--    <select id="search_user" resultType="users"-->
    <!--            parameterType="map">-->
    <!--        select *-->
    <!--        from users-->
    <!--        where user_name = #{userName}-->
    <!--          and user_password = #{password}-->
    <!--    </select>-->

    <!--    <select id="get_usercount" resultType="int" parameterType="map">-->
    <!--        select count(*) from users-->
    <!--        <include refid="select1"></include>-->
    <!--    </select>-->

    <!--    <sql id="select1">-->
    <!--        <if test="user_name!=null and user_name!='' ">-->
    <!--            and user_name=#{user_name}-->
    <!--        </if>-->

    <!--        <if test="password!=null and password!='' ">-->
    <!--            and user_password=#{user_password}-->
    <!--        </if>-->
    <!--    </sql>-->
</mapper>